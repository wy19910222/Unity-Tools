## ReferenceReplace

* **映射列表：** 保存替换前与替换后对象的映射关系。  
  * 原对象可以重复，但以排在列表前面的为准。  
  * 映射关系可以冗余，替换时若找不到则跳过。  
* **交换按钮：** 在列表标题栏「原对象」与「替换为」之间的按钮，点击可以交换整个列表的左右两边。
* **详情：**  
  * 列表行左右两边对象的类型毫无关系时，会出现警告图标，提示检查对象类型。  
  * 列表行左右两边对象都是GameObject时，会出现按钮，点击可将两个GameObject都拥有的组件加入映射列表。  
* **列表支持拖放：**  
  * 可在Project或Hierarchy窗口选中多个对象，拖放到列表左半边或者右半边非ObjectField处，列表高亮区域将被覆盖。  
  * 拖放时按住Ctrl键，改为插入模式，选中的对象将被插入列表指定位置。  
* **「清空列表」按钮：** 用于快捷清空整个列表。  
* ~~「全选左边」、「选中对象覆盖到左边」、「全选右边」、「选中对象覆盖到右边」四个按钮：用于快捷操作列表：~~  
  ~~* 点击「全选左边」按钮，继续选中想要添加的对象，点击「选中对象覆盖到左边」按钮，新选中的对象将添加到列表末尾「原对象」列。~~  
  ~~* 点击「全选右边」按钮，继续选中想要添加的对象，点击「选中对象覆盖到右边」按钮，新选中的对象将添加到列表末尾「替换为」列。~~  
* **操作目标：** 可以是场景内的GameObject，也可以是一个文件夹或资产文件。  
  * 如果目标是个场景内对象，则通过遍历引用进行替换。  
  * 如果目标是个以 YAML 格式储存的资产文件，则以文本形式打开文件，搜索GUID和FileID并替换保存。
  * 如果目标是个非Unity序列化资产文件，则以文本形式打开meta文件，搜索GUID和FileID并替换保存。
  * 如果目标是个文件夹，则遍历文件夹内所有文件，对每个资产文件进行操作。  
* **「替换引用」按钮：** 对目标执行操作。  
* ~~「生成副本并替换」按钮：先生成目标文件的副本，然后对副本进行修改。~~  
  ~~* 如果替换目标是一个序列化为文本的资产，则根据一定的命名规则新建副本，然后对副本进行修改。~~  
  ~~* 如果替换目标是一个文件夹，则根据一定的命名规则新建一个文件夹，按对应路径为所有原目录下可操作的资产新建副本，然后对所有副本进行修改。~~  
  
## AssetsDeepCloner

* 深拷贝资产——对多个目标资产建立副本，并在副本中保留相互之间的引用关系，而不是引用原文件。  
  实现方式：
  1. 将所有原资产的GUID与new出来的新GUID一对一建立映射关系。
  2. 将原资产文件和对应的meta文件克隆。
  3. 根据映射关系，将修改克隆得到的meta文件内的GUID改为新的GUID。
  4. 在克隆得到的资产文件内搜索原资产的GUID并替换为新GUID。
* 在需要拷贝的单个或若干个资产处右键，点击「克隆(复制内部依赖)」，即可进行深拷贝。  